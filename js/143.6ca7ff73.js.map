{"version":3,"file":"js/143.6ca7ff73.js","mappings":"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","sources":["webpack://my-chat/./src/views/login/index.vue?f592","webpack://my-chat/./src/components/captchaCode.vue?c875","webpack://my-chat/src/components/captchaCode.vue","webpack://my-chat/./src/components/captchaCode.vue?88b0","webpack://my-chat/./src/components/captchaCode.vue","webpack://my-chat/src/views/login/index.vue","webpack://my-chat/./src/views/login/index.vue?969d","webpack://my-chat/./src/views/login/index.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"loginBg\"}},[_c('el-card',{staticClass:\"login-form-layout\"},[_c('el-form',{ref:\"loginForm\",attrs:{\"autoComplete\":\"on\",\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"label-position\":\"left\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"margin-bottom\":\"20px\"}},[_c('div',[_c('div',{staticStyle:{\"font-size\":\"20px\",\"line-height\":\"26px\",\"font-weight\":\"600\"}},[_vm._v(\" 我的 \"),_c('i',{staticClass:\"el-icon-chat-dot-square\"})])])]),_c('el-form-item',{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"name\":\"username\",\"type\":\"text\",\"autoComplete\":\"on\",\"placeholder\":\"账号\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}},[_c('span',{attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('i',{staticClass:\"el-icon-user\",staticStyle:{\"margin-left\":\"5px\"}})])])],1),_c('el-form-item',{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"name\":\"password\",\"type\":_vm.pwdType,\"autoComplete\":\"on\",\"placeholder\":\"请输入密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleLogin.apply(null, arguments)}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}},[_c('span',{attrs:{\"slot\":\"prefix\"},slot:\"prefix\"},[_c('i',{staticClass:\"el-icon-lock\",staticStyle:{\"margin-left\":\"5px\"}})]),_c('span',{attrs:{\"slot\":\"suffix\"},on:{\"click\":_vm.showPwd},slot:\"suffix\"},[(_vm.pwdType)?_c('i',{staticClass:\"el-icon-thumb\"}):_c('i',{staticClass:\"el-icon-view\",staticStyle:{\"color\":\"#287dff\"}})])])],1),_c('el-form-item',{attrs:{\"prop\":\"code\"}},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":16}},[_c('el-input',{attrs:{\"name\":\"code\",\"autoComplete\":\"on\",\"placeholder\":\"验证码\"},model:{value:(_vm.loginForm.code),callback:function ($$v) {_vm.$set(_vm.loginForm, \"code\", $$v)},expression:\"loginForm.code\"}})],1),_c('el-col',{attrs:{\"span\":8}},[_c('captcha-code',{attrs:{\"identifyCode\":_vm.captchaCode},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.refreshCaptchaCode.apply(null, arguments)}}})],1)],1)],1),_c('el-form-item',{staticStyle:{\"text-align\":\"center\",\"margin-bottom\":\"0\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"loading\":_vm.loading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleLogin.apply(null, arguments)}}},[_vm._v(\" 登录 \")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"s-canvas\"},[_c('canvas',{attrs:{\"id\":\"s-canvas\",\"width\":_vm.contentWidth,\"height\":_vm.contentHeight}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"s-canvas\">\n    <canvas\n      id=\"s-canvas\"\n      :width=\"contentWidth\"\n      :height=\"contentHeight\"\n    ></canvas>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"captchaCode\",\n  props: {\n    identifyCode: {\n      type: String,\n      default: \"1234\",\n    },\n    fontSizeMin: {\n      type: Number,\n      default: 25,\n    },\n    fontSizeMax: {\n      type: Number,\n      default: 30,\n    },\n    backgroundColorMin: {\n      type: Number,\n      default: 255,\n    },\n    backgroundColorMax: {\n      type: Number,\n      default: 255,\n    },\n    colorMin: {\n      type: Number,\n      default: 0,\n    },\n    colorMax: {\n      type: Number,\n      default: 160,\n    },\n    lineColorMin: {\n      type: Number,\n      default: 100,\n    },\n    lineColorMax: {\n      type: Number,\n      default: 255,\n    },\n    dotColorMin: {\n      type: Number,\n      default: 0,\n    },\n    dotColorMax: {\n      type: Number,\n      default: 255,\n    },\n    contentWidth: {\n      type: Number,\n      default: 120,\n    },\n    contentHeight: {\n      type: Number,\n      default: 38,\n    },\n  },\n  methods: {\n    // 生成一个随机数\n    randomNum(min, max) {\n      return Math.floor(Math.random() * (max - min) + min);\n    }, // 生成一个随机的颜色\n    randomColor(min, max) {\n      let r = this.randomNum(min, max);\n      let g = this.randomNum(min, max);\n      let b = this.randomNum(min, max);\n      return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n    },\n    drawPic() {\n      let canvas = document.getElementById(\"s-canvas\");\n      let ctx = canvas.getContext(\"2d\");\n      ctx.textBaseline = \"bottom\"; // 绘制背景\n      ctx.fillStyle = this.randomColor(\n        this.backgroundColorMin,\n        this.backgroundColorMax\n      );\n      ctx.fillRect(0, 0, this.contentWidth, this.contentHeight); // 绘制文字\n      for (let i = 0; i < this.identifyCode.length; i++) {\n        this.drawText(ctx, this.identifyCode[i], i);\n      }\n      this.drawLine(ctx);\n      this.drawDot(ctx);\n    },\n    drawText(ctx, txt, i) {\n      ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax);\n      ctx.font =\n        this.randomNum(this.fontSizeMin, this.fontSizeMax) + \"px SimHei\";\n      let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1));\n      let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5);\n      var deg = this.randomNum(-45, 45); // 修改坐标原点和旋转角度\n      ctx.translate(x, y);\n      ctx.rotate((deg * Math.PI) / 180);\n      ctx.fillText(txt, 0, 0); // 恢复坐标原点和旋转角度\n      ctx.rotate((-deg * Math.PI) / 180);\n      ctx.translate(-x, -y);\n    },\n    drawLine(ctx) {\n      // 绘制干扰线\n      for (let i = 0; i < 5; i++) {\n        ctx.strokeStyle = this.randomColor(\n          this.lineColorMin,\n          this.lineColorMax\n        );\n        ctx.beginPath();\n        ctx.moveTo(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight)\n        );\n        ctx.lineTo(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight)\n        );\n        ctx.stroke();\n      }\n    },\n    drawDot(ctx) {\n      // 绘制干扰点\n      for (let i = 0; i < 80; i++) {\n        ctx.fillStyle = this.randomColor(0, 255);\n        ctx.beginPath();\n        ctx.arc(\n          this.randomNum(0, this.contentWidth),\n          this.randomNum(0, this.contentHeight),\n          1,\n          0,\n          2 * Math.PI\n        );\n        ctx.fill();\n      }\n    },\n  },\n  watch: {\n    identifyCode() {\n      this.drawPic();\n    },\n  },\n  mounted() {\n    this.drawPic();\n  },\n};\n</script>\n\n<style scoped>\n.s-canvas {\n  height: 38px;\n}\n.s-canvas canvas {\n  margin-top: 1px;\n  margin-left: 8px;\n}\n</style>\n","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./captchaCode.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./captchaCode.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./captchaCode.vue?vue&type=template&id=6d528c1a&scoped=true\"\nimport script from \"./captchaCode.vue?vue&type=script&lang=js\"\nexport * from \"./captchaCode.vue?vue&type=script&lang=js\"\nimport style0 from \"./captchaCode.vue?vue&type=style&index=0&id=6d528c1a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d528c1a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"loginBg\">\n    <el-card class=\"login-form-layout\">\n      <el-form\n        autoComplete=\"on\"\n        :model=\"loginForm\"\n        :rules=\"loginRules\"\n        ref=\"loginForm\"\n        label-position=\"left\"\n      >\n        <div style=\"display: flex; margin-bottom: 20px\">\n          <div>\n            <div style=\"font-size: 20px; line-height: 26px; font-weight: 600\">\n              我的\n              <i class=\"el-icon-chat-dot-square\"></i>\n            </div>\n          </div>\n        </div>\n        <el-form-item prop=\"username\" style=\"margin-bottom: 16px\">\n          <el-input\n            name=\"username\"\n            type=\"text\"\n            v-model=\"loginForm.username\"\n            autoComplete=\"on\"\n            placeholder=\"账号\"\n          >\n            <span slot=\"prefix\">\n              <i class=\"el-icon-user\" style=\"margin-left: 5px\"></i>\n            </span>\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\" style=\"margin-bottom: 16px\">\n          <el-input\n            name=\"password\"\n            :type=\"pwdType\"\n            @keyup.enter.native=\"handleLogin\"\n            v-model=\"loginForm.password\"\n            autoComplete=\"on\"\n            placeholder=\"请输入密码\"\n          >\n            <span slot=\"prefix\">\n              <i class=\"el-icon-lock\" style=\"margin-left: 5px\"></i>\n            </span>\n            <span slot=\"suffix\" @click=\"showPwd\">\n              <i class=\"el-icon-thumb\" v-if=\"pwdType\"></i>\n              <i class=\"el-icon-view\" style=\"color: #287dff\" v-else></i>\n            </span>\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"code\">\n          <el-row :gutter=\"10\">\n            <el-col :span=\"16\">\n              <el-input\n                name=\"code\"\n                v-model=\"loginForm.code\"\n                autoComplete=\"on\"\n                placeholder=\"验证码\"\n              />\n            </el-col>\n            <el-col :span=\"8\">\n              <captcha-code\n                :identifyCode=\"captchaCode\"\n                @click.native.prevent=\"refreshCaptchaCode\"\n              ></captcha-code>\n            </el-col>\n          </el-row>\n        </el-form-item>\n        <el-form-item style=\"text-align: center; margin-bottom: 0\">\n          <el-button\n            style=\"width: 100%\"\n            type=\"primary\"\n            :loading=\"loading\"\n            @click.native.prevent=\"handleLogin\"\n          >\n            登录\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport captchaCode from \"@/components/captchaCode.vue\";\nexport default {\n  components: { captchaCode },\n  name: \"loginIndex\",\n  data() {\n    const validateUsername = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error(\"请输入账号\"));\n      } else {\n        callback();\n      }\n    };\n    const validatePass = (rule, value, callback) => {\n      if (value.length < 3) {\n        callback(new Error(\"密码不能小于3位\"));\n      } else {\n        callback();\n      }\n    };\n    const validateCode = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error(\"请输入验证码\"));\n      } else if (value !== this.captchaCode) {\n        callback(new Error(\"验证码不正确\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\",\n        code: \"\",\n      },\n      loginRules: {\n        username: [\n          { required: true, trigger: \"blur\", validator: validateUsername },\n        ],\n        password: [\n          { required: true, trigger: \"blur\", validator: validatePass },\n        ],\n        code: [{ required: true, trigger: \"blur\", validator: validateCode }],\n      },\n      captchaCode: \"\",\n      captchaCodeStr: \"1234567890abcdefghizklmnopqrstuvwxyz\",\n      loading: false,\n      pwdType: \"password\",\n      dialogVisible: false,\n      supportDialogVisible: false,\n    };\n  },\n  created() {\n    if (!this.loginForm.username) {\n      this.loginForm.username = \"\";\n    }\n    if (!this.loginForm.password) {\n      this.loginForm.password = \"\";\n    }\n    this.captchaCode = \"\";\n    this.makeCaptchaCode(4);\n  },\n  mounted() {\n    document.addEventListener(\"keyup\", this.enterKeyDown);\n  },\n  destroyed() {\n    document.removeEventListener(\"keyup\", this.enterKeyDown);\n  },\n  methods: {\n    // 刷新验证码\n    refreshCaptchaCode() {\n      this.captchaCode = \"\";\n      this.makeCaptchaCode(4);\n    },\n    // 生成4位数的随机验证码\n    makeCaptchaCode(l) {\n      for (let i = 0; i < l; i++) {\n        this.captchaCode +=\n          this.captchaCodeStr[this.randomNum(0, this.captchaCodeStr.length)];\n      }\n    },\n    // 生成单个验证码\n    randomNum(min, max) {\n      return Math.floor(Math.random() * (max - min) + min);\n    },\n    getPasswd() {\n      // 获取当前时间\n      const currentTime = new Date();\n\n      // 格式化时间为指定格式\n      const year = currentTime.getFullYear();\n      const month = currentTime.getMonth() + 1;\n      const day = currentTime.getDate();\n      const hours = currentTime.getHours();\n      // const minutes = currentTime.getMinutes();\n      return (\n        \"lzm\" +\n        `${year}${month < 10 ? \"0\" : \"\"}${month}${day < 10 ? \"0\" : \"\"}${day}${\n          hours < 10 ? \"0\" : \"\"\n        }${hours}`\n      );\n    },\n    showPwd() {\n      if (this.pwdType === \"password\") {\n        this.pwdType = \"\";\n      } else {\n        this.pwdType = \"password\";\n      }\n    },\n    enterKeyDown(event) {\n      if (event.keyCode === 13) {\n        this.handleLogin();\n      }\n    },\n    handleLogin() {\n      this.$refs.loginForm.validate((valid) => {\n        if (valid) {\n          const passwd = this.getPasswd();\n          if (\n            this.loginForm.username === \"admin\" &&\n            this.loginForm.password === passwd\n          ) {\n            localStorage.setItem(\"username\", \"admin\");\n            this.$router.push({ path: \"/chat\" });\n          } else {\n            this.$message.error(\"用户名或密码错误\");\n          }\n        } else {\n          console.log(\"参数验证不合法！\");\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login-form-layout {\n  position: absolute;\n  left: 0;\n  right: 0;\n  width: 450px;\n  margin: 15% auto;\n  padding: 15px;\n}\n#loginBg {\n  background: url(\"../../assets/images/login_bg.png\");\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  background-size: 100% 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=241cfa76&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=241cfa76&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"241cfa76\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","staticClass","ref","loginForm","loginRules","staticStyle","_v","model","value","callback","$$v","$set","expression","slot","pwdType","nativeOn","$event","type","indexOf","_k","keyCode","key","handleLogin","apply","arguments","on","showPwd","captchaCode","preventDefault","refreshCaptchaCode","loading","staticRenderFns","contentWidth","contentHeight","name","props","identifyCode","String","default","fontSizeMin","Number","fontSizeMax","backgroundColorMin","backgroundColorMax","colorMin","colorMax","lineColorMin","lineColorMax","dotColorMin","dotColorMax","methods","randomNum","min","max","Math","floor","random","randomColor","r","g","b","drawPic","canvas","document","getElementById","ctx","getContext","textBaseline","fillStyle","fillRect","i","length","drawText","drawLine","drawDot","txt","font","x","y","deg","translate","rotate","PI","fillText","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","fill","watch","mounted","component","components","data","validateUsername","rule","Error","validatePass","validateCode","username","password","code","required","trigger","validator","captchaCodeStr","dialogVisible","supportDialogVisible","created","makeCaptchaCode","addEventListener","enterKeyDown","destroyed","removeEventListener","l","getPasswd","currentTime","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","event","$refs","validate","valid","console","log","passwd","localStorage","setItem","$router","push","path","$message","error"],"sourceRoot":""}